<div class="wrapper">
  <div class="tabs">
    <div
      class="item"
      [ngClass]="{ selected: selectedTab === 1 }"
      (click)="selectedTab = 1"
    >
      <p>{{ "About" | translate }}</p>
    </div>
    <div
      class="item"
      [ngClass]="{ selected: selectedTab === 2 }"
      (click)="selectedTab = 2"
    >
      <p>{{ "Change information" | translate }}</p>
    </div>
  </div>
  <div class="courses-wrapper"  *ngIf="selectedTab === 1">
    <div class="counts">
      <div class="item">
        <p>{{ response.coursesCount }}</p>
        <label>{{ "Registered courses" | translate }}</label>
      </div>
      <div class="item">
        <p>{{ response.todayMeetingCount }}</p>
        <label>{{ "Lessons to attend today" | translate }}</label>
      </div>
      <div class="item">
        <p>{{ response.materialsCount }}</p>
        <label>{{ "Materials to study" | translate }}</label>
      </div>
    </div>

    <div class="courses">
      <div class="items komp">
        <div
          class="item"
          *ngFor="let item of response.courses"
          (click)="getInfo(item)"
        >
          <div class="image">
            <img [src]="item.image" alt="" />
          </div>
          <div class="info">
            <div class="name">
              <p>{{ item.name }}</p>
              <p class="lecturer">
                {{ item.educatorFullName }}
              </p>
            </div>
            <div class="lang">
              <div class="img">
                <img [src]="item.icon" alt="" />
              </div>
              <p>{{ item.language }}</p>
            </div>
            <div class="statistics">
              <div class="st-item">
                <label>{{ "Group of" | translate }}</label>
                <div class="value">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="16"
                    viewBox="0 0 17 16"
                    fill="none"
                  >
                    <path
                      d="M5.76535 6.91842C6.68279 6.91842 7.56265 6.55397 8.21138 5.90524C8.86011 5.25651 9.22456 4.37665 9.22456 3.45921C9.22456 2.54177 8.86011 1.66191 8.21138 1.01318C7.56265 0.364451 6.68279 0 5.76535 0C4.84791 0 3.96805 0.364451 3.31932 1.01318C2.67059 1.66191 2.30614 2.54177 2.30614 3.45921C2.30614 4.37665 2.67059 5.25651 3.31932 5.90524C3.96805 6.55397 4.84791 6.91842 5.76535 6.91842ZM14.6056 4.61228C14.6056 5.22391 14.3626 5.81048 13.9301 6.24297C13.4976 6.67545 12.911 6.91842 12.2994 6.91842C11.6878 6.91842 11.1012 6.67545 10.6687 6.24297C10.2362 5.81048 9.99327 5.22391 9.99327 4.61228C9.99327 4.00065 10.2362 3.41408 10.6687 2.98159C11.1012 2.54911 11.6878 2.30614 12.2994 2.30614C12.911 2.30614 13.4976 2.54911 13.9301 2.98159C14.3626 3.41408 14.6056 4.00065 14.6056 4.61228ZM5.76535 7.68713C7.2974 7.68713 8.6903 8.15451 9.71423 8.81407C10.227 9.14461 10.6659 9.53435 10.9849 9.95945C11.2978 10.3784 11.5307 10.8819 11.5307 11.4208C11.5307 12.0012 11.2617 12.4662 10.8665 12.8022C10.4937 13.1173 10.0079 13.3218 9.50591 13.4625C8.49659 13.7446 7.16133 13.8368 5.76535 13.8368C4.36937 13.8368 3.03411 13.7446 2.02556 13.4625C1.52282 13.3218 1.03699 13.1173 0.664937 12.8022C0.268281 12.467 0 12.0012 0 11.4208C0 10.8811 0.23292 10.3784 0.545786 9.96022C0.864803 9.53435 1.30374 9.14385 1.81647 8.81484C2.8404 8.15374 4.2333 7.68713 5.76535 7.68713ZM12.2994 7.68713C13.3141 7.68713 14.235 8.02229 14.913 8.49505C15.5449 8.93552 16.143 9.63044 16.143 10.4322C16.143 10.8834 15.9485 11.257 15.6525 11.5284C15.3781 11.7805 15.0307 11.9343 14.6963 12.0357C14.0275 12.2379 13.1665 12.2994 12.2994 12.2994H12.1434C12.2433 12.0319 12.2994 11.7383 12.2994 11.4208C12.2994 10.6597 11.9742 9.99866 11.5999 9.49899C11.2263 9.0001 10.7312 8.56116 10.1785 8.1991C10.835 7.86296 11.5619 7.68749 12.2994 7.68713Z"
                      fill="#13170C"
                    />
                  </svg>
                  <p>{{ item.groupMemberCount }}</p>
                </div>
              </div>
              <div class="st-item">
                <label>{{ "Materials" | translate }}</label>
                <div class="value">
                  <svg
                    width="13"
                    height="15"
                    viewBox="0 0 13 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M10.7686 0C11.1577 0 11.5308 0.154553 11.8059 0.429659C12.081 0.704765 12.2356 1.07789 12.2356 1.46695V13.2025C12.2356 13.5916 12.081 13.9647 11.8059 14.2398C11.5308 14.5149 11.1577 14.6695 10.7686 14.6695H1.96695C1.57789 14.6695 1.20477 14.5149 0.929659 14.2398C0.654553 13.9647 0.5 13.5916 0.5 13.2025V1.46695C0.5 1.07789 0.654553 0.704765 0.929659 0.429659C1.20477 0.154553 1.57789 0 1.96695 0H10.7686ZM6.36779 8.06821H4.16737C3.97284 8.06821 3.78628 8.14549 3.64873 8.28304C3.51117 8.4206 3.4339 8.60716 3.4339 8.80169C3.4339 8.99622 3.51117 9.18278 3.64873 9.32033C3.78628 9.45788 3.97284 9.53516 4.16737 9.53516H6.36779C6.56232 9.53516 6.74888 9.45788 6.88644 9.32033C7.02399 9.18278 7.10127 8.99622 7.10127 8.80169C7.10127 8.60716 7.02399 8.4206 6.88644 8.28304C6.74888 8.14549 6.56232 8.06821 6.36779 8.06821ZM8.56821 4.40084H4.16737C3.98042 4.40105 3.80061 4.47263 3.66467 4.60097C3.52873 4.72931 3.44693 4.90471 3.43597 5.09133C3.42501 5.27796 3.48573 5.46172 3.60572 5.60508C3.72571 5.74844 3.89591 5.84058 4.08155 5.86266L4.16737 5.86779H8.56821C8.75516 5.86758 8.93497 5.796 9.07091 5.66766C9.20685 5.53933 9.28866 5.36393 9.29961 5.1773C9.31057 4.99068 9.24985 4.80691 9.12986 4.66355C9.00987 4.52019 8.83967 4.42806 8.65403 4.40598L8.56821 4.40084Z"
                      fill="#13170C"
                    />
                  </svg>
                  <p>{{ item.topicCount }}</p>
                </div>
              </div>
            </div>
            <div class="btn">
              <button>
                <i class="pi pi-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="items mobile">
        <div
          class="item"
          *ngFor="let item of response.courses"
          (click)="getInfo(item)"
        >
          <div class="image-name">
            <div class="image">
              <img [src]="item.image" alt="" />
            </div>
            <div class="name">
              <p>{{ item.name }}</p>
              <p class="lecturer">
                {{ item.educatorFullName }}
              </p>
            </div>
          </div>

          <div class="info">
            <div class="st-item">
              <label>{{ "Group of" | translate }}</label>
              <div class="value">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="17"
                  height="16"
                  viewBox="0 0 17 16"
                  fill="none"
                >
                  <path
                    d="M5.76535 6.91842C6.68279 6.91842 7.56265 6.55397 8.21138 5.90524C8.86011 5.25651 9.22456 4.37665 9.22456 3.45921C9.22456 2.54177 8.86011 1.66191 8.21138 1.01318C7.56265 0.364451 6.68279 0 5.76535 0C4.84791 0 3.96805 0.364451 3.31932 1.01318C2.67059 1.66191 2.30614 2.54177 2.30614 3.45921C2.30614 4.37665 2.67059 5.25651 3.31932 5.90524C3.96805 6.55397 4.84791 6.91842 5.76535 6.91842ZM14.6056 4.61228C14.6056 5.22391 14.3626 5.81048 13.9301 6.24297C13.4976 6.67545 12.911 6.91842 12.2994 6.91842C11.6878 6.91842 11.1012 6.67545 10.6687 6.24297C10.2362 5.81048 9.99327 5.22391 9.99327 4.61228C9.99327 4.00065 10.2362 3.41408 10.6687 2.98159C11.1012 2.54911 11.6878 2.30614 12.2994 2.30614C12.911 2.30614 13.4976 2.54911 13.9301 2.98159C14.3626 3.41408 14.6056 4.00065 14.6056 4.61228ZM5.76535 7.68713C7.2974 7.68713 8.6903 8.15451 9.71423 8.81407C10.227 9.14461 10.6659 9.53435 10.9849 9.95945C11.2978 10.3784 11.5307 10.8819 11.5307 11.4208C11.5307 12.0012 11.2617 12.4662 10.8665 12.8022C10.4937 13.1173 10.0079 13.3218 9.50591 13.4625C8.49659 13.7446 7.16133 13.8368 5.76535 13.8368C4.36937 13.8368 3.03411 13.7446 2.02556 13.4625C1.52282 13.3218 1.03699 13.1173 0.664937 12.8022C0.268281 12.467 0 12.0012 0 11.4208C0 10.8811 0.23292 10.3784 0.545786 9.96022C0.864803 9.53435 1.30374 9.14385 1.81647 8.81484C2.8404 8.15374 4.2333 7.68713 5.76535 7.68713ZM12.2994 7.68713C13.3141 7.68713 14.235 8.02229 14.913 8.49505C15.5449 8.93552 16.143 9.63044 16.143 10.4322C16.143 10.8834 15.9485 11.257 15.6525 11.5284C15.3781 11.7805 15.0307 11.9343 14.6963 12.0357C14.0275 12.2379 13.1665 12.2994 12.2994 12.2994H12.1434C12.2433 12.0319 12.2994 11.7383 12.2994 11.4208C12.2994 10.6597 11.9742 9.99866 11.5999 9.49899C11.2263 9.0001 10.7312 8.56116 10.1785 8.1991C10.835 7.86296 11.5619 7.68749 12.2994 7.68713Z"
                    fill="#13170C"
                  />
                </svg>
                <p>{{ item.groupMemberCount }}</p>
              </div>
            </div>
            <div class="st-item">
              <label>{{ "Materials" | translate }}</label>
              <div class="value">
                <svg
                  width="13"
                  height="15"
                  viewBox="0 0 13 15"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.7686 0C11.1577 0 11.5308 0.154553 11.8059 0.429659C12.081 0.704765 12.2356 1.07789 12.2356 1.46695V13.2025C12.2356 13.5916 12.081 13.9647 11.8059 14.2398C11.5308 14.5149 11.1577 14.6695 10.7686 14.6695H1.96695C1.57789 14.6695 1.20477 14.5149 0.929659 14.2398C0.654553 13.9647 0.5 13.5916 0.5 13.2025V1.46695C0.5 1.07789 0.654553 0.704765 0.929659 0.429659C1.20477 0.154553 1.57789 0 1.96695 0H10.7686ZM6.36779 8.06821H4.16737C3.97284 8.06821 3.78628 8.14549 3.64873 8.28304C3.51117 8.4206 3.4339 8.60716 3.4339 8.80169C3.4339 8.99622 3.51117 9.18278 3.64873 9.32033C3.78628 9.45788 3.97284 9.53516 4.16737 9.53516H6.36779C6.56232 9.53516 6.74888 9.45788 6.88644 9.32033C7.02399 9.18278 7.10127 8.99622 7.10127 8.80169C7.10127 8.60716 7.02399 8.4206 6.88644 8.28304C6.74888 8.14549 6.56232 8.06821 6.36779 8.06821ZM8.56821 4.40084H4.16737C3.98042 4.40105 3.80061 4.47263 3.66467 4.60097C3.52873 4.72931 3.44693 4.90471 3.43597 5.09133C3.42501 5.27796 3.48573 5.46172 3.60572 5.60508C3.72571 5.74844 3.89591 5.84058 4.08155 5.86266L4.16737 5.86779H8.56821C8.75516 5.86758 8.93497 5.796 9.07091 5.66766C9.20685 5.53933 9.28866 5.36393 9.29961 5.1773C9.31057 4.99068 9.24985 4.80691 9.12986 4.66355C9.00987 4.52019 8.83967 4.42806 8.65403 4.40598L8.56821 4.40084Z"
                    fill="#13170C"
                  />
                </svg>
                <p>{{ item.topicCount }}</p>
              </div>
            </div>
            <div class="st-item">
              <label>{{ "Language" | translate }}</label>
              <div class="value">
                <div class="img">
                  <img [src]="item.icon" alt="" />
                </div>
                <p>{{ item.language }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="form" *ngIf="selectedTab === 2">
    <div class="inputs">
      <div class="row">
        <div class="input-item">
          <label for="firstName">{{ "First name" | translate }}</label>
          <input
            type="text"
            id="firstName"
            [(ngModel)]="request.firstName"
            [class.invalid]="!request.firstName && isSubmitted"
          />
        </div>
        <div class="input-item">
          <label for="lastName">{{ "Last name" | translate }}</label>
          <input
            type="text"
            id="lastName"
            [(ngModel)]="request.lastName"
            [class.invalid]="!request.lastName && isSubmitted"
          />
        </div>
      </div>
      <div class="row">
        <div class="input-item">
          <label for="phoneNumber">{{ "Phone number" | translate }} </label>
          <div class="mask">
            <p>+995</p>
            <input
              type="number"
              id="phoneNumber"
              [(ngModel)]="request.phoneNumber"
              [class.invalid]="!request.phoneNumber && isSubmitted"
              (keydown)="onKeyDown($event)"
            />
          </div>
        </div>
      </div>

      <div class="row">
        <div class="input-item">
          <label for="email">{{ "Email" | translate }}</label>
          <input
            type="text"
            id="email"
            [disabled]="true"
            [(ngModel)]="request.username"
          />
        </div>
        <div class="input-item">
          <label for="courier">{{ "Known languages" | translate }}</label>
          <p-multiSelect
            id="courier"
            [style]="{ width: '100%', height: '40px' }"
            [options]="knownLangs"
            optionLabel="name"
            optionValue="id"
            [(ngModel)]="request.systemLanguages"
            [ngClass]="{
              invalid: request.systemLanguages.length === 0 && isSubmitted,
            }"
            [filter]="true"
          ></p-multiSelect>
        </div>
      </div>
      <div class="row">
        <div class="input-item">
          <label for="location">{{ "Location" | translate }}</label>
          <input type="text" id="location" [(ngModel)]="request.location" />
        </div>
        <div class="input-item">
          <label for="password">{{ "New password" | translate }}</label>
          <div class="block">
            <input
              [type]="passVisible ? 'text' : 'password'"
              id="password"
              [(ngModel)]="request.password"
            />
            <span>
              <i
                *ngIf="!passVisible"
                (click)="passVisible = !passVisible"
                class="pi pi-eye"
              ></i>
              <i
                *ngIf="passVisible"
                (click)="passVisible = !passVisible"
                class="pi pi-eye-slash"
              ></i>
            </span>
          </div>
        </div>
      </div>
      <button type="button" (click)="validateFirstStep()">
        {{ "Save" | translate }}
      </button>
    </div>
  </div>

</div>
<div class="loading-back" *ngIf="mainLoading">
  <div class="animation">
    <ng-lottie
      [options]="options"
      width="500px"
      height="500px"
      (animationCreated)="animationCreated($event)"
    />
  </div>
</div>
