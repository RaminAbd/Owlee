<div class="course-info">
  <div class="back" (click)="location.back()">
    <i class="pi pi-chevron-left"></i>
    <div class="row">
      <p>{{ request.title }}</p>
      <button
        (click)="
          $event.preventDefault(); $event.stopPropagation(); openDialog()
        "
      >
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.26733 10.7738L11.198 5.84315C10.3685 5.49663 9.61516 4.99061 8.98066 4.35381C8.34355 3.71918 7.8373 2.96558 7.49066 2.13581L2.56 7.06648C2.17533 7.45115 1.98266 7.64381 1.81733 7.85581C1.62226 8.10613 1.45484 8.37682 1.318 8.66315C1.20266 8.90581 1.11666 9.16448 0.944664 9.68048L0.0366637 12.4025C-0.00512717 12.5271 -0.0113275 12.6609 0.0187596 12.7889C0.0488466 12.9169 0.114028 13.0339 0.206978 13.1268C0.299928 13.2198 0.416961 13.285 0.544922 13.3151C0.672883 13.3451 0.8067 13.3389 0.93133 13.2971L3.65333 12.3891C4.17 12.2171 4.428 12.1311 4.67066 12.0158C4.95822 11.8789 5.22733 11.7125 5.478 11.5165C5.69 11.3511 5.88266 11.1585 6.26733 10.7738ZM12.566 4.47515C13.0576 3.98352 13.3338 3.31674 13.3338 2.62148C13.3338 1.92622 13.0576 1.25944 12.566 0.767814C12.0744 0.276191 11.4076 5.18009e-09 10.7123 0C10.0171 -5.18009e-09 9.35029 0.276191 8.85866 0.767814L8.26733 1.35915L8.29266 1.43315C8.58399 2.267 9.06087 3.02381 9.68733 3.64648C10.3286 4.29169 11.1119 4.77798 11.9747 5.06648L12.566 4.47515Z"
            fill="#4C4C54"
          />
        </svg>
        {{ "Edit" | translate }}
      </button>
    </div>
  </div>

  <div class="tab-content">
    <div class="row dets">
      <div class="group-info">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="13"
          viewBox="0 0 18 13"
          fill="none"
        >
          <path
            d="M0 10.725C0 10.2646 0.119455 9.84155 0.358364 9.45588C0.597273 9.07021 0.914182 8.77555 1.30909 8.57188C2.15455 8.15209 3.01364 7.83738 3.88636 7.62776C4.75909 7.41813 5.64545 7.31305 6.54545 7.31251C7.44545 7.31197 8.33182 7.41705 9.20455 7.62776C10.0773 7.83847 10.9364 8.15317 11.7818 8.57188C12.1773 8.77501 12.4945 9.06967 12.7334 9.45588C12.9723 9.84209 13.0915 10.2651 13.0909 10.725V11.375C13.0909 11.8219 12.9308 12.2046 12.6106 12.5231C12.2905 12.8416 11.9051 13.0005 11.4545 13H1.63636C1.18636 13 0.801273 12.841 0.481091 12.5231C0.160909 12.2051 0.000545455 11.8224 0 11.375V10.725ZM14.2773 13C14.4273 12.7562 14.5399 12.4957 14.6152 12.2184C14.6905 11.941 14.7278 11.6599 14.7273 11.375V10.5625C14.7273 9.96667 14.5604 9.3944 14.2265 8.84569C13.8927 8.29699 13.4187 7.82655 12.8045 7.43438C13.5 7.51563 14.1545 7.65457 14.7682 7.8512C15.3818 8.04782 15.9545 8.28805 16.4864 8.57188C16.9773 8.84271 17.3523 9.14388 17.6114 9.47538C17.8705 9.80688 18 10.1693 18 10.5625V11.375C18 11.8219 17.8399 12.2046 17.5197 12.5231C17.1995 12.8416 16.8142 13.0005 16.3636 13H14.2773ZM6.54545 6.50001C5.64545 6.50001 4.875 6.18178 4.23409 5.54532C3.59318 4.90887 3.27273 4.14376 3.27273 3.25002C3.27273 2.35627 3.59318 1.59116 4.23409 0.954707C4.875 0.31825 5.64545 2.0833e-05 6.54545 2.0833e-05C7.44545 2.0833e-05 8.21591 0.31825 8.85682 0.954707C9.49773 1.59116 9.81818 2.35627 9.81818 3.25002C9.81818 4.14376 9.49773 4.90887 8.85682 5.54532C8.21591 6.18178 7.44545 6.50001 6.54545 6.50001ZM14.7273 3.25002C14.7273 4.14376 14.4068 4.90887 13.7659 5.54532C13.125 6.18178 12.3545 6.50001 11.4545 6.50001C11.3045 6.50001 11.1136 6.48322 10.8818 6.44963C10.65 6.41605 10.4591 6.37868 10.3091 6.33751C10.6773 5.90418 10.9604 5.42345 11.1584 4.89532C11.3564 4.3672 11.4551 3.81876 11.4545 3.25002C11.454 2.68127 11.3553 2.13283 11.1584 1.60471C10.9615 1.07658 10.6784 0.595853 10.3091 0.16252C10.5 0.0948122 10.6909 0.0506667 10.8818 0.0300834C11.0727 0.00950013 11.2636 -0.000520833 11.4545 2.0833e-05C12.3545 2.0833e-05 13.125 0.31825 13.7659 0.954707C14.4068 1.59116 14.7273 2.35627 14.7273 3.25002Z"
            fill="#605F71"
          />
        </svg>
        <p>
          {{ request.groups }} - {{ request.submittedStudents }}/{{
            request.totalStudents
          }}
          {{ "submitted" | translate }}
        </p>
      </div>
      <div class="deadline">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="10"
          height="16"
          viewBox="0 0 10 16"
          fill="none"
        >
          <path
            d="M5.6 3.20013H4V4.00013C4 4.21231 4.08429 4.41579 4.23431 4.56582C4.38434 4.71585 4.58783 4.80013 4.8 4.80013C5.01217 4.80013 5.21566 4.71585 5.36569 4.56582C5.51571 4.41579 5.6 4.21231 5.6 4.00013V3.20013Z"
            fill="#009245"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0 0V1.6H0.8V4C0.8 5.06087 1.22143 6.07828 1.97157 6.82843C2.72172 7.57857 3.73913 8 4.8 8C3.73913 8 2.72172 8.42143 1.97157 9.17157C1.22143 9.92172 0.8 10.9391 0.8 12V14.4H0V16H9.6V14.4H8.8V12C8.8 10.9391 8.37857 9.92172 7.62843 9.17157C6.87828 8.42143 5.86087 8 4.8 8C5.32529 8 5.84543 7.89654 6.33073 7.69552C6.81604 7.4945 7.25699 7.19986 7.62843 6.82843C7.99986 6.45699 8.2945 6.01604 8.49552 5.53073C8.69654 5.04543 8.8 4.52529 8.8 4V1.6H9.6V0H0ZM2.4 1.6H7.2V4C7.2 4.63652 6.94714 5.24697 6.49706 5.69706C6.04697 6.14714 5.43652 6.4 4.8 6.4C4.16348 6.4 3.55303 6.14714 3.10294 5.69706C2.65286 5.24697 2.4 4.63652 2.4 4V1.6ZM2.4 12V14.4H7.2V12C7.2 11.3635 6.94714 10.753 6.49706 10.3029C6.04697 9.85286 5.43652 9.6 4.8 9.6C4.16348 9.6 3.55303 9.85286 3.10294 10.3029C2.65286 10.753 2.4 11.3635 2.4 12Z"
            fill="#009245"
          />
        </svg>
        <p>
          {{ request.availableFrom | date: "d/MM/yyyy HH:mm" }} -
          {{ request.availableTo | date: "d/MM/yyyy HH:mm" }}
        </p>
      </div>
    </div>
    <div class="descr">
      <p>{{ request.description }}</p>
    </div>
    <div class="images">
      @if (request.files.length > 0) {
        <div
          class="image"
          *ngFor="let item of request.files; let i = index"
          style="
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: space-between;
          "
        >
          <div class="name">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="15"
              height="19"
              viewBox="0 0 15 19"
              fill="none"
            >
              <path
                d="M8.0617 0.750488H4.32891C2.64145 0.750488 1.79862 0.750488 1.27431 1.30393C0.75 1.85738 0.75 2.74704 0.75 4.52827V13.9727C0.75 15.7539 0.75 16.6436 1.27431 17.197C1.79862 17.7505 2.64145 17.7505 4.32891 17.7505H9.69726C11.3847 17.7505 12.2276 17.7505 12.7519 17.197C13.2762 16.6436 13.2762 15.7539 13.2762 13.9727V6.25471C13.2762 5.86938 13.2762 5.67577 13.2082 5.50293C13.1402 5.3301 13.0113 5.19221 12.7519 4.91927L9.32685 1.30393C9.06738 1.03004 8.93854 0.894044 8.7748 0.822266C8.61017 0.750488 8.42675 0.750488 8.0617 0.750488Z"
                stroke="#5A4BEA"
                stroke-width="1.5"
              />
              <path
                d="M7.9082 0.750488V4.52827C7.9082 5.41888 7.9082 5.86371 8.17036 6.14043C8.43251 6.41715 8.85393 6.41715 9.69766 6.41715H13.2766"
                stroke="#5A4BEA"
                stroke-width="1.5"
              />
            </svg>
            <p>{{ item.fileName }}</p>
          </div>
          <a
            class="remove"
            style="cursor: pointer"
            [href]="item.fileUrl"
            target="_blank"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="14"
              viewBox="0 0 20 14"
              fill="none"
            >
              <path
                d="M10 4.2C10.7233 4.2 11.417 4.495 11.9285 5.0201C12.4399 5.5452 12.7273 6.25739 12.7273 7C12.7273 7.74261 12.4399 8.4548 11.9285 8.9799C11.417 9.505 10.7233 9.8 10 9.8C9.27668 9.8 8.58299 9.505 8.07153 8.9799C7.56006 8.4548 7.27273 7.74261 7.27273 7C7.27273 6.25739 7.56006 5.5452 8.07153 5.0201C8.58299 4.495 9.27668 4.2 10 4.2ZM10 0C14.5455 0 18.4273 2.90267 20 7C18.4273 11.0973 14.5455 14 10 14C5.45455 14 1.57273 11.0973 0 7C1.57273 2.90267 5.45455 0 10 0ZM1.98182 7C2.71659 8.54029 3.85755 9.83803 5.27498 10.7457C6.69241 11.6534 8.32945 12.1346 10 12.1346C11.6705 12.1346 13.3076 11.6534 14.725 10.7457C16.1424 9.83803 17.2834 8.54029 18.0182 7C17.2834 5.45971 16.1424 4.16197 14.725 3.2543C13.3076 2.34662 11.6705 1.86544 10 1.86544C8.32945 1.86544 6.69241 2.34662 5.27498 3.2543C3.85755 4.16197 2.71659 5.45971 1.98182 7Z"
                fill="#4C4C54"
              />
            </svg>
          </a>
        </div>
      }
    </div>
    <div class="submissions">
      <div class="s-heading">
        <p>{{request.appliedStudents.length}} {{ 'submissions' | translate }}</p>
      </div>
      <div class="s-list">
        <div class="item" *ngFor="let item of request.appliedStudents">
          <div class="col name">
            <p>{{ item.firstName + ' ' + item.lastName }}</p>
          </div>
          <div class="btn">
            <p >
              {{ item.submittedAt | date: "dd/MM/yyyy" }} -
              {{ item.submittedAt | date: "HH:mm" }}
            </p>
            <button [disabled]="item.loadingFiles" (click)="downloadFiles(item)" >
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 3.33331H11.6667V8.33331H13.75L10 12.0833M10 3.33331H8.33333V8.33331H6.25L10 12.0833" fill="#4C4C54"/>
                <path d="M10 3.33331H11.6667V8.33331H13.75L10 12.0833L6.25 8.33331H8.33333V3.33331H10Z" stroke="#4C4C54" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M5 15.8333H15" stroke="#4C4C54" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
