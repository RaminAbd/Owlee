<div class="wrapper">
  <div class="inner">
    <div class="left">
      <div class="image">
        <img [src]="response.image" alt="" />
      </div>
      <div class="name">
        <p>{{ response.name }}</p>
      </div>
      <div class="educator">
        <img [src]="response.educator.profileImage" alt="" />
        <div class="info">
          <p class="name">
            {{ response.educator.firstName + response.educator.lastName }}
          </p>
          <span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="11"
              height="11"
              viewBox="0 0 11 11"
              fill="none"
            >
              <path
                d="M5.49973 9.21524L2.83366 10.8969C2.71588 10.9753 2.59275 11.009 2.46426 10.9977C2.33578 10.9865 2.22336 10.9417 2.12699 10.8632C2.03063 10.7847 1.95568 10.6868 1.90214 10.5693C1.84861 10.4518 1.8379 10.3199 1.87002 10.1738L2.57669 6.99551L0.215775 4.85986C0.108704 4.75897 0.041892 4.64394 0.0153384 4.51479C-0.0112152 4.38565 -0.00329196 4.25964 0.0391081 4.13677C0.0815082 4.0139 0.145751 3.913 0.231836 3.83408C0.317921 3.75515 0.435699 3.70471 0.58517 3.68273L3.70093 3.39686L4.90548 0.403587C4.95902 0.269058 5.04211 0.168161 5.15474 0.100897C5.26738 0.0336322 5.38238 0 5.49973 0C5.61708 0 5.73207 0.0336322 5.84471 0.100897C5.95735 0.168161 6.04043 0.269058 6.09397 0.403587L7.29852 3.39686L10.4143 3.68273C10.5642 3.70515 10.682 3.7556 10.7676 3.83408C10.8533 3.91255 10.9175 4.01345 10.9603 4.13677C11.0032 4.26009 11.0113 4.38632 10.9848 4.51547C10.9582 4.64462 10.8912 4.75941 10.7837 4.85986L8.42276 6.99551L9.12943 10.1738C9.16155 10.3195 9.15085 10.4513 9.09731 10.5693C9.04377 10.6872 8.96882 10.7852 8.87246 10.8632C8.7761 10.9412 8.66367 10.9861 8.53519 10.9977C8.4067 11.0094 8.28357 10.9758 8.16579 10.8969L5.49973 9.21524Z"
                fill="#EDCA1D"
              />
            </svg>
            {{ response.educator.rating }}
          </span>
        </div>
      </div>
      <div class="description">
        <label>{{ "Description" | translate }}</label>
        <p>
          {{ response.description }}
        </p>
      </div>
      @if (response.learningPoints.length > 0) {
        <div class="points">
          <label>{{ "What you'll learn" | translate }}</label>
          <div class="items">
            <div class="item" *ngFor="let item of response.learningPoints">
              <div class="icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="12"
                  height="12"
                  viewBox="0 0 12 12"
                  fill="none"
                >
                  <path
                    d="M3 6L5 8L9 4"
                    stroke="#009245"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
              <p>{{ item.value }}</p>
            </div>
          </div>
        </div>
      }
      <div class="course-content">
        <label>{{ "Course content" | translate }}</label>
        <div class="items">
          <div
            class="item"
            *ngFor="let topic of response.topics; let i = index"
          >
            <div
              class="top-name"
              style="cursor: pointer"
              (click)="toggleExpander(i)"
            >
              <svg
                *ngIf="expanderStates[i] === 'collapsed'"
                xmlns="http://www.w3.org/2000/svg"
                width="10"
                height="6"
                viewBox="0 0 10 6"
                fill="none"
              >
                <path
                  d="M9.77989 0.22944C9.6389 0.08253 9.44772 4.28555e-07 9.24837 4.11127e-07C9.04902 3.937e-07 8.85783 0.0825299 8.71685 0.22944L4.99546 4.10846L1.27408 0.229439C1.13229 0.0866925 0.94238 0.00770633 0.745263 0.00949159C0.548145 0.0112768 0.359584 0.0936915 0.220195 0.238985C0.0808063 0.384278 0.00174188 0.580825 2.9066e-05 0.786293C-0.00168375 0.991761 0.0740923 1.18971 0.211038 1.33751L4.46394 5.77056C4.60492 5.91747 4.79611 6 4.99546 6C5.19481 6 5.386 5.91747 5.52698 5.77056L9.77988 1.33751C9.92082 1.19055 10 0.991267 10 0.783473C10 0.57568 9.92082 0.376394 9.77989 0.22944Z"
                  fill="#13170C"
                />
              </svg>
              <svg
                *ngIf="expanderStates[i] === 'expanded'"
                xmlns="http://www.w3.org/2000/svg"
                width="10"
                height="6"
                viewBox="0 0 10 6"
                fill="none"
              >
                <path
                  d="M0.220114 5.77056C0.361097 5.91747 0.552284 6 0.751633 6C0.950982 6 1.14217 5.91747 1.28315 5.77056L5.00454 1.89154L8.72592 5.77056C8.86771 5.91331 9.05762 5.99229 9.25474 5.99051C9.45186 5.98872 9.64042 5.90631 9.7798 5.76102C9.91919 5.61572 9.99826 5.41918 9.99997 5.21371C10.0017 5.00824 9.92591 4.81029 9.78896 4.66249L5.53606 0.22944C5.39508 0.0825303 5.20389 9.09877e-07 5.00454 8.75021e-07C4.80519 8.40166e-07 4.614 0.0825301 4.47302 0.22944L0.220115 4.66249C0.0791748 4.80945 -8.75755e-07 5.00873 -9.12086e-07 5.21653C-9.48418e-07 5.42432 0.0791746 5.62361 0.220114 5.77056Z"
                  fill="#13170C"
                />
              </svg>
              <p>{{ topic.name }}</p>
            </div>
            <div class="sub-topics" [@expanderAnimation]="expanderStates[i]">
              <div class="sub-item" *ngFor="let sub of topic.subtopics">
                <p class="sub-name">{{ sub.name }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      @if (ratings.length > 0) {
        <div class="ratings">
          <label>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
            >
              <g clip-path="url(#clip0_1850_55420)">
                <path
                  d="M9.99655 2.49883L11.9347 7.47434C12.0686 7.84356 12.4152 8.09123 12.81 8.11513L18.0877 8.49198C18.6599 8.52527 18.9027 9.23029 18.4705 9.63001L14.3812 13.4588C14.0829 13.7404 13.9533 14.1614 14.0446 14.5612L15.1603 19.7159C15.2778 20.2794 14.6805 20.7168 14.1903 20.4377L9.68531 17.9304C9.34264 17.7367 8.9178 17.7367 8.57514 17.9304L4.07023 20.4377C3.57989 20.7168 2.98262 20.2794 3.10008 19.7159L4.21584 14.5612C4.30711 14.1614 4.17761 13.7404 3.87922 13.4588L-0.210098 9.63001C-0.642262 9.23029 -0.399524 8.52527 0.172586 8.49198L5.45027 8.11513C5.84511 8.09123 6.19165 7.84356 6.32577 7.47434L8.2639 2.49883C8.49408 1.9763 9.23018 1.9763 9.46037 2.49883H9.99655Z"
                  fill="#EDCA1D"
                />
              </g>
              <defs>
                <clipPath id="clip0_1850_55420">
                  <rect width="19.9922" height="19.9922" fill="white" />
                </clipPath>
              </defs>
            </svg>
            {{ total }}
            {{ "course rating" | translate }}
            <span>{{ ratings.length }} {{ "ratings" | translate }}</span>
          </label>
          <div class="items">
            <div class="item" *ngFor="let item of ratings">
              <div class="icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="14"
                  height="13"
                  viewBox="0 0 14 13"
                  fill="none"
                >
                  <path
                    d="M6.75 6C8.4069 6 9.75 4.6569 9.75 3C9.75 1.34315 8.4069 0 6.75 0C5.0931 0 3.75 1.34315 3.75 3C3.75 4.6569 5.0931 6 6.75 6ZM6.75 7.5C4.37009 7.5 0 8.691 0 11.25V12.75H13.5V11.25C13.5 8.691 9.1299 7.5 6.75 7.5Z"
                    fill="white"
                  />
                </svg>
              </div>
              <div class="info">
                <p class="name">{{ "Anonymous" | translate }}</p>
                <p-rating [(ngModel)]="item.value" [disabled]="true" />
                <p class="comment">
                  {{ item.comment }}
                </p>
              </div>
            </div>
          </div>
        </div>
      }
    </div>
    <div class="right">
      <div class="heading">
        <p>{{ "Details" | translate }}</p>
      </div>
      <div class="row">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
        >
          <path
            d="M13.75 4.16667V2.5M6.25 4.16667V2.5M2.70833 6.66667H17.2917M2.5 8.37C2.5 6.6075 2.5 5.72583 2.86333 5.0525C3.19187 4.45192 3.70166 3.97042 4.32 3.67667C5.03333 3.33333 5.96667 3.33333 7.83333 3.33333H12.1667C14.0333 3.33333 14.9667 3.33333 15.68 3.67667C16.3075 3.97833 16.8167 4.46 17.1367 5.05167C17.5 5.72667 17.5 6.60833 17.5 8.37083V12.4642C17.5 14.2267 17.5 15.1083 17.1367 15.7817C16.8081 16.3822 16.2983 16.8637 15.68 17.1575C14.9667 17.5 14.0333 17.5 12.1667 17.5H7.83333C5.96667 17.5 5.03333 17.5 4.32 17.1567C3.70179 16.8631 3.19201 16.3819 2.86333 15.7817C2.5 15.1067 2.5 14.225 2.5 12.4625V8.37Z"
            stroke="#656668"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        <p>
          {{ response.startDate | date: "d" }}
          {{ (response.startDate | date: "MMMM")! | translate }} -
          {{ response.endDate | date: "d" }}
          {{ (response.endDate | date: "MMMM")! | translate }}
        </p>
      </div>
      <div class="row">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.8337 10.8333C11.7177 10.8333 12.5656 11.1845 13.1907 11.8096C13.8158 12.4348 14.167 13.2826 14.167 14.1667V15.8333C14.167 16.0543 14.0792 16.2663 13.9229 16.4226C13.7666 16.5789 13.5547 16.6667 13.3337 16.6667C13.1126 16.6667 12.9007 16.5789 12.7444 16.4226C12.5881 16.2663 12.5003 16.0543 12.5003 15.8333V14.1667C12.5003 13.7246 12.3247 13.3007 12.0122 12.9882C11.6996 12.6756 11.2757 12.5 10.8337 12.5H5.00033C4.5583 12.5 4.13437 12.6756 3.82181 12.9882C3.50925 13.3007 3.33366 13.7246 3.33366 14.1667V15.8333C3.33366 16.0543 3.24586 16.2663 3.08958 16.4226C2.9333 16.5789 2.72134 16.6667 2.50033 16.6667C2.27931 16.6667 2.06735 16.5789 1.91107 16.4226C1.75479 16.2663 1.66699 16.0543 1.66699 15.8333V14.1667C1.66699 13.2826 2.01818 12.4348 2.6433 11.8096C3.26842 11.1845 4.11627 10.8333 5.00033 10.8333H10.8337ZM15.8337 10.8333C16.4967 10.8333 17.1326 11.0967 17.6014 11.5656C18.0703 12.0344 18.3337 12.6703 18.3337 13.3333V15C18.3337 15.221 18.2459 15.433 18.0896 15.5893C17.9333 15.7455 17.7213 15.8333 17.5003 15.8333C17.2793 15.8333 17.0673 15.7455 16.9111 15.5893C16.7548 15.433 16.667 15.221 16.667 15V13.3333C16.667 13.1123 16.5792 12.9004 16.4229 12.7441C16.2666 12.5878 16.0547 12.5 15.8337 12.5H14.6537C14.3654 11.8397 13.9109 11.2655 13.3345 10.8333H15.8337ZM7.91699 2.5C8.91155 2.5 9.86538 2.89509 10.5686 3.59835C11.2719 4.30161 11.667 5.25544 11.667 6.25C11.667 7.24456 11.2719 8.19839 10.5686 8.90165C9.86538 9.60491 8.91155 10 7.91699 10C6.92243 10 5.9686 9.60491 5.26534 8.90165C4.56208 8.19839 4.16699 7.24456 4.16699 6.25C4.16699 5.25544 4.56208 4.30161 5.26534 3.59835C5.9686 2.89509 6.92243 2.5 7.91699 2.5ZM15.0003 5C15.6634 5 16.2993 5.26339 16.7681 5.73223C17.2369 6.20107 17.5003 6.83696 17.5003 7.5C17.5003 8.16304 17.2369 8.79893 16.7681 9.26777C16.2993 9.73661 15.6634 10 15.0003 10C14.3373 10 13.7014 9.73661 13.2326 9.26777C12.7637 8.79893 12.5003 8.16304 12.5003 7.5C12.5003 6.83696 12.7637 6.20107 13.2326 5.73223C13.7014 5.26339 14.3373 5 15.0003 5ZM7.91699 4.16667C7.36446 4.16667 6.83455 4.38616 6.44385 4.77686C6.05315 5.16756 5.83366 5.69747 5.83366 6.25C5.83366 6.80253 6.05315 7.33244 6.44385 7.72314C6.83455 8.11384 7.36446 8.33333 7.91699 8.33333C8.46953 8.33333 8.99943 8.11384 9.39013 7.72314C9.78083 7.33244 10.0003 6.80253 10.0003 6.25C10.0003 5.69747 9.78083 5.16756 9.39013 4.77686C8.99943 4.38616 8.46953 4.16667 7.91699 4.16667ZM15.0003 6.66667C14.7793 6.66667 14.5673 6.75446 14.4111 6.91074C14.2548 7.06703 14.167 7.27899 14.167 7.5C14.167 7.72101 14.2548 7.93298 14.4111 8.08926C14.5673 8.24554 14.7793 8.33333 15.0003 8.33333C15.2213 8.33333 15.4333 8.24554 15.5896 8.08926C15.7459 7.93298 15.8337 7.72101 15.8337 7.5C15.8337 7.27899 15.7459 7.06703 15.5896 6.91074C15.4333 6.75446 15.2213 6.66667 15.0003 6.66667Z"
            fill="#656668"
          />
        </svg>
        <p>
          {{ "Seats" | translate }}: {{ response.minimumSeats }} -
          {{ response.maximumSeats }}
        </p>
      </div>
      <div class="statistics" style="margin-top: 9px">
        <p>
          {{ "Currently enrolled" | translate }} <span></span>
          {{ response.takenSeats }}/{{ response.minimumSeats }}
        </p>
        <div class="st">
          <div
            class="filled"
            [ngStyle]="{ width: response.takenSeatsPercentage + '%' }"
          ></div>
        </div>
      </div>
      <!--      *ngIf="response.minimumSeats - response.takenSeats > 4"-->
      <div class="attention">
        <label
          >{{ "Seats remain" | translate }} :
          {{ response.minimumSeats - response.takenSeats }}</label
        >
        <p>
          <span class="span">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="15"
              height="15"
              viewBox="0 0 15 15"
              fill="none"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M13.125 1.875H1.875V8.4375C1.875 9.92934 2.46763 11.3601 3.52252 12.415C4.57742 13.4699 6.00816 14.0625 7.5 14.0625C8.99184 14.0625 10.4226 13.4699 11.4775 12.415C12.5324 11.3601 13.125 9.92934 13.125 8.4375V1.875ZM5.48813 6.69938L4.82437 7.36312L7.03125 9.56906L10.6444 5.95687L9.98156 5.29312L7.03125 8.24344L5.48813 6.69938Z"
                fill="#0094FF"
              />
            </svg>
          </span>
          {{
            "You will be fully refunded if the minimum number of students is not reached"
              | translate
          }}
        </p>
      </div>
      <div class="price">
        <p>{{ response.price }} Gel</p>
      </div>
      <button (click)="reserve()" [disabled]="loading">
        {{ "Reserve your spot" | translate }}
        <span *ngIf="loading">
          <i class="pi pi-spin pi-spinner"></i>
        </span>
      </button>
      <div class="payment-types">
        <label>{{ "Secure payments" | translate }}</label>
        <div class="types">
          <img src="visa.svg" alt="" />
          <img src="mastercard.svg" alt="" />
          <img src="amex.svg" alt="" />
        </div>
      </div>
    </div>
  </div>
</div>
