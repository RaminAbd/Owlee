<div class="course-info">
  <div class="inner">
    <div class="image">
      <!--      <i class="pi pi-chevron-left" (click)="back()"></i>-->
      <img class="main-image" [src]="response.image" alt="" />
    </div>
    <div class="back">
      <p>{{ response.name }}</p>
    </div>
    <div class="tabs">
      <div
        class="item"
        [ngClass]="{ selected: selectedTab === 1 }"
        (click)="selectedTab = 1"
      >
        <p>{{ "About" | translate }}</p>
      </div>
      <div
        class="item"
        [ngClass]="{ selected: selectedTab === 2 }"
        (click)="selectedTab = 2"
      >
        <p>{{ "Materials" | translate }}</p>
      </div>
      <div
        class="item"
        [ngClass]="{ selected: selectedTab === 3 }"
        (click)="selectedTab = 3"
      >
        <p>{{ "Assignments" | translate }}</p>
      </div>
    </div>
    <div class="about-tabs-content" *ngIf="selectedTab === 1">
      <div class="lang-ed">
        <div class="language">
          <label>{{ "Educator" | translate }}</label>
          <p
            class="ed-link"
            (click)="showEducator = true"
            *ngIf="response.educator.firstName"
          >
            {{ response.educator.firstName + " " + response.educator.lastName }}
            <i class="pi pi-angle-right"></i>
          </p>
        </div>
        <div class="language">
          <label>{{ "Language" | translate }}</label>
          <p>{{ response.language }}</p>
        </div>
      </div>
      <div class="description">
        <p>{{ response.description }}</p>
      </div>
    </div>
    <div class="materials-tabs-content" *ngIf="selectedTab === 2">
      <div class="topic" *ngFor="let topic of response.topics">
        <p class="top-name">{{ topic.name }}</p>
        <div class="sub-topics" *ngIf="topic.subtopics.length > 0">
          <div class="sub-item" *ngFor="let sub of topic.subtopics" #subTopic>
            <p class="sub-name">{{ sub.name }}</p>
            <div class="mats">
              <div class="mat-item" *ngFor="let mat of sub.files">
                <div class="mat-name" *ngIf="mat.file.fileUrl">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="15"
                    height="19"
                    viewBox="0 0 15 19"
                    fill="none"
                  >
                    <path
                      d="M8.0617 0.750488H4.32891C2.64145 0.750488 1.79862 0.750488 1.27431 1.30393C0.75 1.85738 0.75 2.74704 0.75 4.52827V13.9727C0.75 15.7539 0.75 16.6436 1.27431 17.197C1.79862 17.7505 2.64145 17.7505 4.32891 17.7505H9.69726C11.3847 17.7505 12.2276 17.7505 12.7519 17.197C13.2762 16.6436 13.2762 15.7539 13.2762 13.9727V6.25471C13.2762 5.86938 13.2762 5.67577 13.2082 5.50293C13.1402 5.3301 13.0113 5.19221 12.7519 4.91927L9.32685 1.30393C9.06738 1.03004 8.93854 0.894044 8.7748 0.822266C8.61017 0.750488 8.42675 0.750488 8.0617 0.750488Z"
                      stroke="#5A4BEA"
                      stroke-width="1.5"
                    />
                    <path
                      d="M7.90771 0.750488V4.52827C7.90771 5.41888 7.90772 5.86371 8.16987 6.14043C8.43202 6.41715 8.85344 6.41715 9.69717 6.41715H13.2761"
                      stroke="#5A4BEA"
                      stroke-width="1.5"
                    />
                  </svg>

                  {{ mat.name }}
                  <svg
                    *ngIf="!mat.fileLoading"
                    style="cursor: pointer"
                    (click)="downloadFile(mat)"
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="17"
                    viewBox="0 0 14 17"
                    fill="none"
                  >
                    <path
                      d="M7 1H9V7H11.5L7 11.5M7 1H5V7H2.5L7 11.5"
                      fill="#13170C"
                      stroke="#13170C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M1 16H13"
                      stroke="#13170C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <i class="pi pi-spin pi-spinner" *ngIf="mat.fileLoading"></i>
                </div>

                <a
                  href="{{ mat.url }}"
                  target="_blank"
                  class="mat-name"
                  *ngIf="!mat.file.fileUrl"
                >
                  <img src="mat-link.svg" alt="" />
                  {{ mat.name }}
                </a>
                <div class="mat-lang">
                  <img [src]="mat.icon" alt="" />
                  <p>{{ mat.language }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="sub-topics" *ngIf="topic.files.length > 0">
          <div class="sub-item" #subTopic>
            <div class="mats">
              <div class="mat-item" *ngFor="let mat of topic.files">
                <div class="mat-name" *ngIf="mat.file.fileUrl">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="15"
                    height="19"
                    viewBox="0 0 15 19"
                    fill="none"
                  >
                    <path
                      d="M8.0617 0.750488H4.32891C2.64145 0.750488 1.79862 0.750488 1.27431 1.30393C0.75 1.85738 0.75 2.74704 0.75 4.52827V13.9727C0.75 15.7539 0.75 16.6436 1.27431 17.197C1.79862 17.7505 2.64145 17.7505 4.32891 17.7505H9.69726C11.3847 17.7505 12.2276 17.7505 12.7519 17.197C13.2762 16.6436 13.2762 15.7539 13.2762 13.9727V6.25471C13.2762 5.86938 13.2762 5.67577 13.2082 5.50293C13.1402 5.3301 13.0113 5.19221 12.7519 4.91927L9.32685 1.30393C9.06738 1.03004 8.93854 0.894044 8.7748 0.822266C8.61017 0.750488 8.42675 0.750488 8.0617 0.750488Z"
                      stroke="#5A4BEA"
                      stroke-width="1.5"
                    />
                    <path
                      d="M7.90771 0.750488V4.52827C7.90771 5.41888 7.90772 5.86371 8.16987 6.14043C8.43202 6.41715 8.85344 6.41715 9.69717 6.41715H13.2761"
                      stroke="#5A4BEA"
                      stroke-width="1.5"
                    />
                  </svg>

                  {{ mat.name }}
                  <svg
                    *ngIf="!mat.fileLoading"
                    style="cursor: pointer"
                    (click)="downloadFile(mat)"
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="17"
                    viewBox="0 0 14 17"
                    fill="none"
                  >
                    <path
                      d="M7 1H9V7H11.5L7 11.5M7 1H5V7H2.5L7 11.5"
                      fill="#13170C"
                      stroke="#13170C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M1 16H13"
                      stroke="#13170C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <i class="pi pi-spin pi-spinner" *ngIf="mat.fileLoading"></i>
                </div>

                <a
                  href="{{ mat.url }}"
                  target="_blank"
                  class="mat-name"
                  *ngIf="!mat.file.fileUrl"
                >
                  <img src="mat-link.svg" alt="" />
                  {{ mat.name }}
                </a>
                <div class="mat-lang">
                  <img [src]="mat.icon" alt="" />
                  <p>{{ mat.language }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="topic additional">
        <p class="top-name" *ngIf="showRating">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="15"
            height="14"
            viewBox="0 0 15 14"
            fill="none"
          >
            <path
              d="M7.5 0.5C7.56649 0.500063 7.64001 0.517191 7.72656 0.56543C7.76464 0.586664 7.79692 0.614593 7.82422 0.65918L7.85059 0.711914L9.49316 4.52148L9.6123 4.7959L9.91016 4.82129L14.1377 5.18359C14.2752 5.20354 14.3354 5.24006 14.3584 5.25977C14.4049 5.29954 14.4461 5.3549 14.4775 5.43945C14.5022 5.50573 14.5068 5.56875 14.4912 5.63965C14.4839 5.6727 14.4667 5.71199 14.4258 5.75879L14.376 5.80859L11.1631 8.52148L10.9277 8.71973L10.999 9.01953L11.9629 13.0645C11.9838 13.1539 11.9715 13.2016 11.9561 13.2334C11.9171 13.3135 11.8645 13.3757 11.7969 13.4268C11.746 13.4652 11.6844 13.4916 11.5967 13.499C11.5526 13.5028 11.5071 13.4976 11.4551 13.4746L11.4004 13.4443L11.3887 13.4375L7.75293 11.2979L7.5 11.1484L7.24609 11.2979L3.61035 13.4375L3.59961 13.4443C3.52306 13.4918 3.46122 13.5038 3.40137 13.499C3.31481 13.492 3.25355 13.4661 3.20312 13.4277C3.13445 13.3755 3.08198 13.3123 3.04297 13.2324C3.02799 13.2017 3.01465 13.1538 3.03613 13.0625L4 9.01953L4.07129 8.71973L3.83594 8.52148L0.623047 5.80859C0.54513 5.73967 0.518645 5.68337 0.508789 5.63867C0.492988 5.56694 0.498216 5.50407 0.522461 5.43848C0.553118 5.35556 0.594085 5.30042 0.641602 5.25977C0.665328 5.23953 0.724424 5.203 0.858398 5.18359L5.08984 4.82129L5.3877 4.7959L5.50586 4.52148L7.14844 0.711914L7.1748 0.65918C7.20207 0.614603 7.23443 0.586669 7.27246 0.56543C7.35917 0.517101 7.43342 0.5 7.5 0.5Z"
              stroke="#90928D"
            />
          </svg>
          {{ "Course rating" | translate }}
        </p>
        <div class="rate-button" *ngIf="showRating">
          <div class="txt">
            <p>{{ "Enjoying this course?" | translate }}</p>
            <span>{{
              "Share your feedback and help other students" | translate
            }}</span>
          </div>
          <button routerLink="rate">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <g clip-path="url(#clip0_1814_145)">
                <path
                  d="M9.99756 3.91904L9.33105 6.66504H13.2168C13.4237 6.66504 13.6278 6.71322 13.8129 6.80577C13.998 6.89832 14.159 7.03269 14.2832 7.19824C14.4073 7.3638 14.4913 7.55599 14.5283 7.75959C14.5653 7.9632 14.5544 8.17262 14.4965 8.37129L12.9435 13.7033C12.8627 13.9802 12.6944 14.2234 12.4636 14.3965C12.2329 14.5695 11.9522 14.6631 11.6638 14.6631H2.66602C2.31248 14.6631 1.97342 14.5226 1.72344 14.2727C1.47345 14.0227 1.33301 13.6836 1.33301 13.3301V7.99805C1.33301 7.64451 1.47345 7.30546 1.72344 7.05547C1.97342 6.80548 2.31248 6.66504 2.66602 6.66504H4.50557C4.75356 6.66491 4.9966 6.5956 5.20737 6.4649C5.41813 6.33421 5.58825 6.14731 5.69861 5.92522L7.99805 1.33301C8.31235 1.3369 8.62172 1.41177 8.90303 1.55202C9.18434 1.69227 9.43032 1.89428 9.62259 2.14295C9.81486 2.39162 9.94845 2.68052 10.0134 2.98807C10.0783 3.29562 10.0729 3.61387 9.99756 3.91904Z"
                  stroke="white"
                  stroke-width="1.33301"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M4.66553 6.66504V14.6631"
                  stroke="white"
                  stroke-width="1.33301"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </g>
              <defs>
                <clipPath id="clip0_1814_145">
                  <rect width="15.9961" height="15.9961" fill="white" />
                </clipPath>
              </defs>
            </svg>
            {{ "Rate this Course" | translate }}
          </button>
        </div>
        <p class="top-name" *ngIf="showCertificate">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M9 9.94442C9 10.6959 9.29851 11.4165 9.82986 11.9479C10.3612 12.4792 11.0819 12.7778 11.8333 12.7778C12.5848 12.7778 13.3054 12.4792 13.8368 11.9479C14.3682 11.4165 14.6667 10.6959 14.6667 9.94442C14.6667 9.19297 14.3682 8.4723 13.8368 7.94095C13.3054 7.40959 12.5848 7.11108 11.8333 7.11108C11.0819 7.11108 10.3612 7.40959 9.82986 7.94095C9.29851 8.4723 9 9.19297 9 9.94442Z" stroke="#90928D" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9.94434 12.3055V16.5555L11.8332 15.1389L13.7221 16.5555V12.3055" stroke="#90928D" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7.11111 13.7222H2.38889C1.88792 13.7222 1.40748 13.5232 1.05324 13.169C0.699007 12.8147 0.5 12.3343 0.5 11.8333V2.38889C0.5 1.35 1.35 0.5 2.38889 0.5H15.6111C16.1121 0.5 16.5925 0.699007 16.9468 1.05324C17.301 1.40748 17.5 1.88792 17.5 2.38889V11.8333C17.4997 12.1646 17.4122 12.4899 17.2465 12.7767C17.0807 13.0635 16.8424 13.3016 16.5556 13.4672M3.33333 4.27778H14.6667M3.33333 7.11111H6.16667M3.33333 9.94444H5.22222" stroke="#90928D" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          {{ "Completion certificate" | translate }}
        </p>
        <div class="certificate-button"  *ngIf="showCertificate" (click)="handleDownloadPDF()">
          <div class="left">
            <div class="icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none">
                <path d="M18.0553 15.0374L19.8227 24.9837C19.8424 25.1008 19.826 25.2212 19.7756 25.3287C19.7251 25.4362 19.643 25.5258 19.5403 25.5854C19.4375 25.645 19.319 25.6718 19.2006 25.6623C19.0822 25.6527 18.9696 25.6073 18.8777 25.532L14.7013 22.3973C14.4997 22.2467 14.2548 22.1653 14.0031 22.1653C13.7515 22.1653 13.5066 22.2467 13.3049 22.3973L9.12157 25.5308C9.02978 25.606 8.91725 25.6514 8.799 25.6609C8.68075 25.6705 8.56239 25.6437 8.45972 25.5843C8.35705 25.5248 8.27495 25.4355 8.22437 25.3282C8.17379 25.2209 8.15714 25.1007 8.17663 24.9837L9.94284 15.0374" stroke="white" stroke-width="2.33317" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M13.999 16.3323C17.8647 16.3323 20.9985 13.1985 20.9985 9.33276C20.9985 5.46704 17.8647 2.33325 13.999 2.33325C10.1333 2.33325 6.99951 5.46704 6.99951 9.33276C6.99951 13.1985 10.1333 16.3323 13.999 16.3323Z" stroke="white" stroke-width="2.33317" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="txt">
              <p>{{ 'Course Completion Certificate' | translate }}</p>
              <span>{{'Get your certificate' | translate}}</span>
            </div>
          </div>
          <button>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M7.99805 9.99756V1.99951" stroke="#FFF" stroke-width="1.33301" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M13.9966 9.99756V12.6636C13.9966 13.0171 13.8561 13.3562 13.6062 13.6062C13.3562 13.8561 13.0171 13.9966 12.6636 13.9966H3.33252C2.97898 13.9966 2.63993 13.8561 2.38994 13.6062C2.13995 13.3562 1.99951 13.0171 1.99951 12.6636V9.99756" stroke="#FFF" stroke-width="1.33301" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4.66553 6.66504L7.99805 9.99756L11.3306 6.66504" stroke="#FFF" stroke-width="1.33301" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            {{'Get Certificate' | translate}}
          </button>
        </div>
      </div>
      <div class="topic">

      </div>
    </div>
    <div class="assignments" *ngIf="selectedTab === 3">
      <div class="list">
        <div class="item" *ngFor="let item of assignments">
          <div class="col name">
            <p>{{ item.title }}</p>
          </div>
          <div class="btn">
            <p [ngClass]="{ past: item.isPast }">
              {{
                item.isPast ? ("Past due" | translate) : ("Due" | translate)
              }}:
              {{ item.availableTo | date: "d" }}
              {{ (item.availableTo | date: "MMMM")! | translate }}
              {{ item.availableTo | date: "HH:mm" }}
            </p>
            <button [disabled]="item.isPast" routerLink="{{ item.id }}">
              <i class="pi pi-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="right"
    [ngClass]="{
      notMaterial: selectedTab === 1 || selectedTab === 3,
      material: selectedTab === 2,
    }"
  >
    <div class="educator-block" *ngIf="showEducator && selectedTab === 1">
      <div class="educator-info">
        <div class="item">
          <div class="row">
            <div class="image-name">
              <div class="image">
                <img
                  *ngIf="response.educator.profileImage"
                  [src]="response.educator.profileImage"
                  alt=""
                />
                <img
                  *ngIf="!response.educator.profileImage"
                  src="unknown-profile.svg"
                  alt=""
                />
              </div>
              <p>
                {{
                  response.educator.firstName + " " + response.educator.lastName
                }}
              </p>
            </div>
            <i
              class="pi pi-times"
              style="cursor: pointer"
              (click)="showEducator = false"
            ></i>
          </div>
          <div class="rows">
            <a href="mailto:{{ response.educator.userName }}" class="row email">
              <svg
                width="15"
                height="13"
                viewBox="0 0 15 13"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15 2C15 1.175 14.325 0.5 13.5 0.5H1.5C0.675 0.5 0 1.175 0 2V11C0 11.825 0.675 12.5 1.5 12.5H13.5C14.325 12.5 15 11.825 15 11V2ZM13.5 2L7.5 5.75L1.5 2H13.5ZM13.5 11H1.5V3.5L7.5 7.25L13.5 3.5V11Z"
                  fill="#90928D"
                />
              </svg>
              <p>{{ response.educator.userName }}</p>
            </a>
            <a
              href="tel:+995{{ response.educator.phoneNumber }}"
              class="row email"
            >
              <svg
                width="10"
                height="13"
                viewBox="0 0 10 13"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 2.83333H6M7.85733 1H2.14267C1.512 1 1 1.49256 1 2.1V10.9C1 11.5074 1.512 12 2.14267 12H7.85733C8.48867 12 9 11.5074 9 10.9V2.1C9 1.49256 8.48867 1 7.85733 1Z"
                  stroke="#90928D"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <p>
                {{ response.educator.phoneNumber }}
              </p>
            </a>
            <a class="row email">
              <svg
                width="15"
                height="15"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M7.01566 0.863052C7.04487 0.80404 7.08999 0.754366 7.14593 0.719637C7.20188 0.684907 7.26641 0.666504 7.33225 0.666504C7.3981 0.666504 7.46263 0.684907 7.51857 0.719637C7.57451 0.754366 7.61964 0.80404 7.64884 0.863052L9.18847 3.98162C9.28989 4.18688 9.43961 4.36447 9.62478 4.49913C9.80994 4.6338 10.025 4.72152 10.2515 4.75477L13.6947 5.25865C13.7599 5.2681 13.8212 5.29562 13.8717 5.33809C13.9221 5.38057 13.9596 5.4363 13.98 5.49899C14.0004 5.56168 14.0028 5.62883 13.987 5.69283C13.9712 5.75683 13.9379 5.81514 13.8907 5.86116L11.4006 8.28591C11.2364 8.44593 11.1135 8.64347 11.0426 8.86152C10.9716 9.07956 10.9547 9.31158 10.9934 9.5376L11.5812 12.9634C11.5927 13.0286 11.5857 13.0958 11.5609 13.1572C11.5361 13.2186 11.4945 13.2718 11.4409 13.3107C11.3874 13.3496 11.3239 13.3727 11.2579 13.3773C11.1918 13.3819 11.1258 13.3678 11.0673 13.3367L7.98943 11.7184C7.78662 11.6119 7.56099 11.5563 7.33192 11.5563C7.10286 11.5563 6.87722 11.6119 6.67441 11.7184L3.59717 13.3367C3.53873 13.3676 3.47279 13.3815 3.40685 13.3768C3.3409 13.3721 3.27759 13.349 3.22412 13.3102C3.17065 13.2713 3.12917 13.2182 3.10439 13.1569C3.07961 13.0956 3.07253 13.0286 3.08396 12.9634L3.67115 9.53827C3.70994 9.31214 3.69313 9.07998 3.62219 8.8618C3.55124 8.64362 3.42828 8.44597 3.26391 8.28591L0.773856 5.86183C0.726263 5.81586 0.692538 5.75745 0.676521 5.69325C0.660505 5.62906 0.662841 5.56165 0.683264 5.49871C0.703687 5.43578 0.741375 5.37984 0.792036 5.33728C0.842697 5.29472 0.904293 5.26724 0.969808 5.25798L4.4123 4.75477C4.63908 4.72178 4.85445 4.63417 5.03987 4.49949C5.22529 4.36481 5.3752 4.18709 5.47671 3.98162L7.01566 0.863052Z"
                  fill="#EDCA1D"
                  stroke="#EDCA1D"
                  stroke-width="1.33301"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>

              <p>{{ response.educator.rating }}</p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="materials-info" *ngIf="selectedTab === 2">
      <div class="tabs">
        <div
          class="item"
          [ngClass]="{ selected: selectedMatTab === 1 }"
          (click)="selectedMatTab = 1"
        >
          <p>{{ "Content" | translate }}</p>
        </div>
        <div
          class="item"
          [ngClass]="{ selected: selectedMatTab === 2 }"
          (click)="selectedMatTab = 2"
        >
          <p>{{ "All files" | translate }}</p>
        </div>
      </div>

      <div class="content-tab" *ngIf="selectedMatTab === 1">
        <div class="search">
          <div class="search-block">
            <i class="pi pi-search"></i>
            <input
              type="text"
              [(ngModel)]="searchTerm"
              placeholder="{{ 'Search' | translate }}..."
              (input)="filterTopics()"
            />
          </div>
        </div>

        <div class="materials-tabs-content menu">
          <div
            class="topic"
            *ngFor="let topic of filteredTopics; let i = index"
          >
            <div
              class="top-name"
              style="cursor: pointer"
              (click)="toggleExpander(i)"
            >
              <svg
                *ngIf="expanderStates[i] === 'collapsed'"
                xmlns="http://www.w3.org/2000/svg"
                width="10"
                height="6"
                viewBox="0 0 10 6"
                fill="none"
              >
                <path
                  d="M9.77989 0.22944C9.6389 0.08253 9.44772 4.28555e-07 9.24837 4.11127e-07C9.04902 3.937e-07 8.85783 0.0825299 8.71685 0.22944L4.99546 4.10846L1.27408 0.229439C1.13229 0.0866925 0.94238 0.00770633 0.745263 0.00949159C0.548145 0.0112768 0.359584 0.0936915 0.220195 0.238985C0.0808063 0.384278 0.00174188 0.580825 2.9066e-05 0.786293C-0.00168375 0.991761 0.0740923 1.18971 0.211038 1.33751L4.46394 5.77056C4.60492 5.91747 4.79611 6 4.99546 6C5.19481 6 5.386 5.91747 5.52698 5.77056L9.77988 1.33751C9.92082 1.19055 10 0.991267 10 0.783473C10 0.57568 9.92082 0.376394 9.77989 0.22944Z"
                  fill="#13170C"
                />
              </svg>
              <svg
                *ngIf="expanderStates[i] === 'expanded'"
                xmlns="http://www.w3.org/2000/svg"
                width="10"
                height="6"
                viewBox="0 0 10 6"
                fill="none"
              >
                <path
                  d="M0.220114 5.77056C0.361097 5.91747 0.552284 6 0.751633 6C0.950982 6 1.14217 5.91747 1.28315 5.77056L5.00454 1.89154L8.72592 5.77056C8.86771 5.91331 9.05762 5.99229 9.25474 5.99051C9.45186 5.98872 9.64042 5.90631 9.7798 5.76102C9.91919 5.61572 9.99826 5.41918 9.99997 5.21371C10.0017 5.00824 9.92591 4.81029 9.78896 4.66249L5.53606 0.22944C5.39508 0.0825303 5.20389 9.09877e-07 5.00454 8.75021e-07C4.80519 8.40166e-07 4.614 0.0825301 4.47302 0.22944L0.220115 4.66249C0.0791748 4.80945 -8.75755e-07 5.00873 -9.12086e-07 5.21653C-9.48418e-07 5.42432 0.0791746 5.62361 0.220114 5.77056Z"
                  fill="#13170C"
                />
              </svg>
              <p>{{ topic.name }}</p>
            </div>
            <div class="sub-topics" [@expanderAnimation]="expanderStates[i]">
              <div
                class="sub-item"
                *ngFor="let sub of topic.subtopics"
                (click)="goToSubTopic(sub)"
              >
                <p class="sub-name">{{ sub.name }}</p>
                <div class="sub-files">
                  <div class="file" *ngFor="let file of sub.files">
                    <p>{{ file.name }}</p>
                  </div>
                </div>
              </div>
              <div class="sub-files topic-files">
                <div class="file" *ngFor="let file of topic.files">
                  <p>{{ file.name }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="content-tab" *ngIf="selectedMatTab === 2">
        <div class="search">
          <div class="search-block">
            <i class="pi pi-search"></i>
            <input
              type="text"
              [(ngModel)]="fileText"
              placeholder="{{ 'Search' | translate }}..."
              (input)="filterFiles()"
            />
          </div>
        </div>
        <div class="files">
          <div class="item" *ngFor="let file of filteredFiles">
            <div
              *ngIf="file.file.fileUrl"
              class="mat-name"
              (click)="downloadFile(file)"
            >
              <div class="name">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="15"
                  height="19"
                  viewBox="0 0 15 19"
                  fill="none"
                >
                  <path
                    d="M8.0617 0.750488H4.32891C2.64145 0.750488 1.79862 0.750488 1.27431 1.30393C0.75 1.85738 0.75 2.74704 0.75 4.52827V13.9727C0.75 15.7539 0.75 16.6436 1.27431 17.197C1.79862 17.7505 2.64145 17.7505 4.32891 17.7505H9.69726C11.3847 17.7505 12.2276 17.7505 12.7519 17.197C13.2762 16.6436 13.2762 15.7539 13.2762 13.9727V6.25471C13.2762 5.86938 13.2762 5.67577 13.2082 5.50293C13.1402 5.3301 13.0113 5.19221 12.7519 4.91927L9.32685 1.30393C9.06738 1.03004 8.93854 0.894044 8.7748 0.822266C8.61017 0.750488 8.42675 0.750488 8.0617 0.750488Z"
                    stroke="#5A4BEA"
                    stroke-width="1.5"
                  />
                  <path
                    d="M7.90771 0.750488V4.52827C7.90771 5.41888 7.90772 5.86371 8.16987 6.14043C8.43202 6.41715 8.85344 6.41715 9.69717 6.41715H13.2761"
                    stroke="#5A4BEA"
                    stroke-width="1.5"
                  />
                </svg>
                {{ file.name }}
              </div>

              <svg
                *ngIf="!file.fileLoading"
                style="cursor: pointer"
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="17"
                viewBox="0 0 14 17"
                fill="none"
              >
                <path
                  d="M7 1H9V7H11.5L7 11.5M7 1H5V7H2.5L7 11.5"
                  fill="#13170C"
                  stroke="#13170C"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M1 16H13"
                  stroke="#13170C"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <i class="pi pi-spin pi-spinner" *ngIf="file.fileLoading"></i>
            </div>
            <a
              *ngIf="!file.file.fileUrl"
              href="{{ file.url }}"
              target="_blank"
              class="mat-name"
            >
              <span class="name">
                <img src="mat-link.svg" alt="" />
                {{ file.name }}
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



