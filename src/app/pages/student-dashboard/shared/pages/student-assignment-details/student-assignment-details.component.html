<div class="course-info">
  <div class="back" (click)="location.back()">
    <i class="pi pi-chevron-left"></i>
    <div class="row">
      <p>{{ response.title }}</p>
    </div>
  </div>

  <div class="tab-content">
    <div class="row dets">
      <div class="deadline">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="10"
          height="16"
          viewBox="0 0 10 16"
          fill="none"
        >
          <path
            d="M5.6 3.20013H4V4.00013C4 4.21231 4.08429 4.41579 4.23431 4.56582C4.38434 4.71585 4.58783 4.80013 4.8 4.80013C5.01217 4.80013 5.21566 4.71585 5.36569 4.56582C5.51571 4.41579 5.6 4.21231 5.6 4.00013V3.20013Z"
            fill="#009245"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0 0V1.6H0.8V4C0.8 5.06087 1.22143 6.07828 1.97157 6.82843C2.72172 7.57857 3.73913 8 4.8 8C3.73913 8 2.72172 8.42143 1.97157 9.17157C1.22143 9.92172 0.8 10.9391 0.8 12V14.4H0V16H9.6V14.4H8.8V12C8.8 10.9391 8.37857 9.92172 7.62843 9.17157C6.87828 8.42143 5.86087 8 4.8 8C5.32529 8 5.84543 7.89654 6.33073 7.69552C6.81604 7.4945 7.25699 7.19986 7.62843 6.82843C7.99986 6.45699 8.2945 6.01604 8.49552 5.53073C8.69654 5.04543 8.8 4.52529 8.8 4V1.6H9.6V0H0ZM2.4 1.6H7.2V4C7.2 4.63652 6.94714 5.24697 6.49706 5.69706C6.04697 6.14714 5.43652 6.4 4.8 6.4C4.16348 6.4 3.55303 6.14714 3.10294 5.69706C2.65286 5.24697 2.4 4.63652 2.4 4V1.6ZM2.4 12V14.4H7.2V12C7.2 11.3635 6.94714 10.753 6.49706 10.3029C6.04697 9.85286 5.43652 9.6 4.8 9.6C4.16348 9.6 3.55303 9.85286 3.10294 10.3029C2.65286 10.753 2.4 11.3635 2.4 12Z"
            fill="#009245"
          />
        </svg>
        <p>
          {{ response.availableTo | date: "d/MM/yyyy HH:mm" }}
        </p>
      </div>
    </div>
    <div class="descr">
      <p>{{ response.description }}</p>
    </div>
    <div class="images">
      @if (response.files.length > 0) {
        <div
          class="image"
          *ngFor="let item of response.files; let i = index"
          style="
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: space-between;
          "
        >
          <div class="name">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="15"
              height="19"
              viewBox="0 0 15 19"
              fill="none"
            >
              <path
                d="M8.0617 0.750488H4.32891C2.64145 0.750488 1.79862 0.750488 1.27431 1.30393C0.75 1.85738 0.75 2.74704 0.75 4.52827V13.9727C0.75 15.7539 0.75 16.6436 1.27431 17.197C1.79862 17.7505 2.64145 17.7505 4.32891 17.7505H9.69726C11.3847 17.7505 12.2276 17.7505 12.7519 17.197C13.2762 16.6436 13.2762 15.7539 13.2762 13.9727V6.25471C13.2762 5.86938 13.2762 5.67577 13.2082 5.50293C13.1402 5.3301 13.0113 5.19221 12.7519 4.91927L9.32685 1.30393C9.06738 1.03004 8.93854 0.894044 8.7748 0.822266C8.61017 0.750488 8.42675 0.750488 8.0617 0.750488Z"
                stroke="#5A4BEA"
                stroke-width="1.5"
              />
              <path
                d="M7.9082 0.750488V4.52827C7.9082 5.41888 7.9082 5.86371 8.17036 6.14043C8.43251 6.41715 8.85393 6.41715 9.69766 6.41715H13.2766"
                stroke="#5A4BEA"
                stroke-width="1.5"
              />
            </svg>
            <p>{{ item.fileName }}</p>
          </div>
          <button
            class="remove"
            style="cursor: pointer"
            (click)="download(item)"
            [disabled]="item.fileLoading"
          >
            <svg
              *ngIf="!item.fileLoading"
              xmlns="http://www.w3.org/2000/svg"
              width="14"
              height="17"
              viewBox="0 0 14 17"
              fill="none"
            >
              <path
                d="M7 1H9V7H11.5L7 11.5M7 1H5V7H2.5L7 11.5"
                fill="#13170C"
                stroke="#13170C"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M1 16H13"
                stroke="#13170C"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <i
              style="color: black !important"
              class="pi pi-spin pi-spinner"
              *ngIf="item.fileLoading"
            ></i>
          </button>
        </div>
      }
    </div>
    <div class="line"></div>

    <div class="input-item file-input" style="width: 100%; position: relative">
      <label>{{ "Upload file" | translate }}</label>
      <label class="file-label" for="file1">
        @if (!request.file.fileLoading) {
          <span class="inp-bl">
            <p>{{ "Drag and drop or click to upload" | translate }}</p>
          </span>
        } @else if (request.file.fileLoading) {
          <span class="inp-bl">
            <i class="pi pi-spin pi-spinner"></i>
          </span>
        }
      </label>
      <input
        id="file1"
        type="file"
        [(ngModel)]="request.file.fakeFile"
        (change)="getImage($event)"
        [disabled]="this.request.file.fileLoading"
        style="
          display: block;
          position: absolute;
          bottom: 0;
          opacity: 0;
          height: 100%;
        "
      />
    </div>
    @if (request.files.length > 0) {
      <div class="images">
        <div
          class="image"
          *ngFor="let item of request.files; let i = index"
          style="
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: space-between;
          "
        >
         <div class="name">
           <svg
             xmlns="http://www.w3.org/2000/svg"
             width="15"
             height="19"
             viewBox="0 0 15 19"
             fill="none"
           >
             <path
               d="M8.0617 0.750488H4.32891C2.64145 0.750488 1.79862 0.750488 1.27431 1.30393C0.75 1.85738 0.75 2.74704 0.75 4.52827V13.9727C0.75 15.7539 0.75 16.6436 1.27431 17.197C1.79862 17.7505 2.64145 17.7505 4.32891 17.7505H9.69726C11.3847 17.7505 12.2276 17.7505 12.7519 17.197C13.2762 16.6436 13.2762 15.7539 13.2762 13.9727V6.25471C13.2762 5.86938 13.2762 5.67577 13.2082 5.50293C13.1402 5.3301 13.0113 5.19221 12.7519 4.91927L9.32685 1.30393C9.06738 1.03004 8.93854 0.894044 8.7748 0.822266C8.61017 0.750488 8.42675 0.750488 8.0617 0.750488Z"
               stroke="#5A4BEA"
               stroke-width="1.5"
             />
             <path
               d="M7.9082 0.750488V4.52827C7.9082 5.41888 7.9082 5.86371 8.17036 6.14043C8.43251 6.41715 8.85393 6.41715 9.69766 6.41715H13.2766"
               stroke="#5A4BEA"
               stroke-width="1.5"
             />
           </svg>
           <p>{{ getFileName(item.fileName) }}</p>
         </div>
          <button
            class="remove"
            style="cursor: pointer;display: flex; align-items: center;height: 100% !important;"
            (click)="removeFile(item, i)"
            [disabled]="item.fileLoading"
          >
            <svg
              *ngIf="!item.fileLoading"
              xmlns="http://www.w3.org/2000/svg"
              width="14"
              height="14"
              viewBox="0 0 14 14"
              fill="none"
            >
              <path
                d="M6.575 7.975L1.675 12.875C1.49167 13.0583 1.25833 13.15 0.975 13.15C0.691667 13.15 0.458333 13.0583 0.275 12.875C0.0916663 12.6917 0 12.4583 0 12.175C0 11.8917 0.0916663 11.6583 0.275 11.475L5.175 6.575L0.275 1.675C0.0916663 1.49167 0 1.25833 0 0.975C0 0.691667 0.0916663 0.458333 0.275 0.275C0.458333 0.0916663 0.691667 0 0.975 0C1.25833 0 1.49167 0.0916663 1.675 0.275L6.575 5.175L11.475 0.275C11.6583 0.0916663 11.8917 0 12.175 0C12.4583 0 12.6917 0.0916663 12.875 0.275C13.0583 0.458333 13.15 0.691667 13.15 0.975C13.15 1.25833 13.0583 1.49167 12.875 1.675L7.975 6.575L12.875 11.475C13.0583 11.6583 13.15 11.8917 13.15 12.175C13.15 12.4583 13.0583 12.6917 12.875 12.875C12.6917 13.0583 12.4583 13.15 12.175 13.15C11.8917 13.15 11.6583 13.0583 11.475 12.875L6.575 7.975Z"
                fill="#4C4C54"
              />
            </svg>
            <i
              style="color: #90928d !important"
              class="pi pi-spin pi-spinner"
              *ngIf="item.fileLoading"
            ></i>
          </button>
        </div>
      </div>
    }
    <div class="or">
      <p>{{ "Or" | translate }}</p>
    </div>
    <div class="input-item">
      <label>{{ "Paste your link" | translate }}</label>
      <input type="text" [(ngModel)]="request.answer" />
    </div>
    <div class="btns">
      <button (click)="save()">{{'Submit' | translate}}</button>
    </div>
  </div>
</div>
